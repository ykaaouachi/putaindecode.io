{"head":{"layout":"Post","comments":true,"date":"2014-05-14","title":"Créez vos iconfonts avec gulp-iconfont","tags":["gulp","nodejs","frontend","svg","fonts","glyphicons"],"authors":["kud"],"description":"Après notre introduction sur gulp, je vous propose de créer vos propres fontes à partir d'icônes. J'ai bien galéré lorsque j'ai dû passer…"},"body":"<p>Après <a href=\"/fr/articles/js/gulp/\">notre introduction sur gulp</a>, je vous propose de créer vos propres fontes à partir d'icônes.</p>\n<p>J'ai bien galéré lorsque j'ai dû passer de <strong>grunt</strong> à <strong>gulp</strong>. Non pas que gulp soit compliqué mais retrouver exactement le même <em>workflow</em> qu'avant, sachant que gulp est jeune et que les <em>plugins</em> sont bien moins nombreux que sur grunt, c'est pas si évident que ça.</p>\n<p>M'enfin, il y a toujours une solution à un problème.</p>\n<p>Justement, là, mon problème était de répliquer mon <em>process</em> de <strong>svg-to-font</strong>.</p>\n<p>Je me suis creusé les méninges et j'ai finalement trouvé. Cette solution, je vous la propose.</p>\n<h2 id=\"gulp-iconfont\"><a href=\"#gulp-iconfont\" class=\"phenomic-HeadingAnchor\">#</a>gulp-iconfont</h2>\n<p>Tout d'abord, installez <strong>gulp</strong> (évident...) et faites ce que vous avez à faire avec gulp.</p>\n<p>Maintenant, vous êtes prêt(e) ? Okay, go.</p>\n<h3 id=\"installez-les-packages-adéquats\"><a href=\"#installez-les-packages-ad%C3%A9quats\" class=\"phenomic-HeadingAnchor\">#</a>Installez les <em>packages</em> adéquats</h3>\n<p>Oui, deux packages, <a href=\"https://github.com/nfroidure/gulp-iconfont\">gulp-iconfont</a> et <a href=\"https://github.com/backflip/gulp-iconfont-css\">gulp-iconfont-css</a>.</p>\n<pre><code class=\"hljs language-console\">$ npm install gulp-iconfont gulp-iconfont-css --<span class=\"hljs-built_in\">save</span>-<span class=\"hljs-built_in\">dev</span></code></pre>\n<h3 id=\"importez-les\"><a href=\"#importez-les\" class=\"phenomic-HeadingAnchor\">#</a>Importez-les</h3>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-comment\">// import</span>\n<span class=\"hljs-keyword\">var</span> gulp = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">'gulp'</span>)\n\n<span class=\"hljs-keyword\">var</span> iconfont = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">'gulp-iconfont'</span>)\n<span class=\"hljs-keyword\">var</span> iconfontCss = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">'gulp-iconfont-css'</span>)</code></pre>\n<h3 id=\"créez-votre-propre-tâche-gulp\"><a href=\"#cr%C3%A9ez-votre-propre-t%C3%A2che-gulp\" class=\"phenomic-HeadingAnchor\">#</a>Créez votre propre tâche gulp</h3>\n<p>Je préconise d'appeler toute transformation d'une image vers une fonte \"glyphicon\".</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-comment\">// glyphicons</span>\ngulp.task(<span class=\"hljs-string\">'glyphicons'</span>, <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) </span>{\n <span class=\"hljs-keyword\">return</span> gulp.src(<span class=\"hljs-string\">'src/glyphicons/**/*'</span>) <span class=\"hljs-comment\">// où sont vos svg</span>\n    .pipe(iconfontCss({\n      <span class=\"hljs-attr\">fontName</span>: <span class=\"hljs-string\">'icons'</span>, <span class=\"hljs-comment\">// nom de la fonte, doit être identique au nom du plugin iconfont</span>\n      targetPath: <span class=\"hljs-string\">'../../styles/shared/icons.css'</span>, <span class=\"hljs-comment\">// emplacement de la css finale</span>\n      fontPath: <span class=\"hljs-string\">'../fonts/'</span> <span class=\"hljs-comment\">// emplacement des fontes finales</span>\n    }))\n    .pipe(iconfont({\n      <span class=\"hljs-attr\">fontName</span>: <span class=\"hljs-string\">'icons'</span> <span class=\"hljs-comment\">// identique au nom de iconfontCss</span>\n     }))\n    .pipe( gulp.dest(<span class=\"hljs-string\">'src/assets/fonts'</span>) )\n})</code></pre>\n<h3 id=\"le-final\"><a href=\"#le-final\" class=\"phenomic-HeadingAnchor\">#</a>Le final</h3>\n<p>Voilà l'écriture entière de la tâche :</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-comment\">// import</span>\n<span class=\"hljs-keyword\">var</span> gulp = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">'gulp'</span>)\n\n<span class=\"hljs-keyword\">var</span> iconfont = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">'gulp-iconfont'</span>)\n<span class=\"hljs-keyword\">var</span> iconfontCss = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">'gulp-iconfont-css'</span>)\n\ngulp.task(<span class=\"hljs-string\">'glyphicons'</span>, <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) </span>{\n <span class=\"hljs-keyword\">return</span> gulp.src(<span class=\"hljs-string\">'src/glyphicons/**/*'</span>)\n    .pipe(iconfontCss({\n      <span class=\"hljs-attr\">fontName</span>: <span class=\"hljs-string\">'icons'</span>, <span class=\"hljs-comment\">// nom de la fonte, doit être identique au nom du plugin iconfont</span>\n      targetPath: <span class=\"hljs-string\">'../../styles/shared/icons.css'</span>, <span class=\"hljs-comment\">// emplacement de la css finale</span>\n      fontPath: <span class=\"hljs-string\">'../fonts/'</span> <span class=\"hljs-comment\">// emplacement des fontes finales</span>\n    }))\n    .pipe(iconfont({\n      <span class=\"hljs-attr\">fontName</span>: <span class=\"hljs-string\">'icons'</span> <span class=\"hljs-comment\">// identique au nom de iconfontCss</span>\n     }))\n    .pipe( gulp.dest(<span class=\"hljs-string\">'src/assets/fonts'</span>) )\n})</code></pre>\n<p>Et voilà, on est bon. On peut transformer nos <em>svg</em> en <em>font</em>. \\o/</p>\n","rawBody":"\nAprès [notre introduction sur gulp](/fr/articles/js/gulp/), je vous propose de créer vos propres fontes à partir d'icônes.\n\nJ'ai bien galéré lorsque j'ai dû passer de **grunt** à **gulp**. Non pas que gulp soit compliqué mais retrouver exactement le même _workflow_ qu'avant, sachant que gulp est jeune et que les _plugins_ sont bien moins nombreux que sur grunt, c'est pas si évident que ça.\n\nM'enfin, il y a toujours une solution à un problème.\n\nJustement, là, mon problème était de répliquer mon _process_ de **svg-to-font**.\n\nJe me suis creusé les méninges et j'ai finalement trouvé. Cette solution, je vous la propose.\n\n## gulp-iconfont\n\nTout d'abord, installez **gulp** (évident...) et faites ce que vous avez à faire avec gulp.\n\nMaintenant, vous êtes prêt(e) ? Okay, go.\n\n### Installez les _packages_ adéquats\n\nOui, deux packages, [gulp-iconfont](https://github.com/nfroidure/gulp-iconfont) et [gulp-iconfont-css](https://github.com/backflip/gulp-iconfont-css).\n\n```console\n$ npm install gulp-iconfont gulp-iconfont-css --save-dev\n```\n\n### Importez-les\n\n```js\n// import\nvar gulp = require('gulp')\n\nvar iconfont = require('gulp-iconfont')\nvar iconfontCss = require('gulp-iconfont-css')\n```\n\n### Créez votre propre tâche gulp\n\nJe préconise d'appeler toute transformation d'une image vers une fonte \"glyphicon\".\n\n```js\n// glyphicons\ngulp.task('glyphicons', function() {\n return gulp.src('src/glyphicons/**/*') // où sont vos svg\n    .pipe(iconfontCss({\n      fontName: 'icons', // nom de la fonte, doit être identique au nom du plugin iconfont\n      targetPath: '../../styles/shared/icons.css', // emplacement de la css finale\n      fontPath: '../fonts/' // emplacement des fontes finales\n    }))\n    .pipe(iconfont({\n      fontName: 'icons' // identique au nom de iconfontCss\n     }))\n    .pipe( gulp.dest('src/assets/fonts') )\n})\n```\n\n\n### Le final\n\nVoilà l'écriture entière de la tâche :\n\n```js\n// import\nvar gulp = require('gulp')\n\nvar iconfont = require('gulp-iconfont')\nvar iconfontCss = require('gulp-iconfont-css')\n\ngulp.task('glyphicons', function() {\n return gulp.src('src/glyphicons/**/*')\n    .pipe(iconfontCss({\n      fontName: 'icons', // nom de la fonte, doit être identique au nom du plugin iconfont\n      targetPath: '../../styles/shared/icons.css', // emplacement de la css finale\n      fontPath: '../fonts/' // emplacement des fontes finales\n    }))\n    .pipe(iconfont({\n      fontName: 'icons' // identique au nom de iconfontCss\n     }))\n    .pipe( gulp.dest('src/assets/fonts') )\n})\n```\n\nEt voilà, on est bon. On peut transformer nos _svg_ en _font_. \\o/\n","__filename":"fr/articles/js/gulp/icon-fonts/index.md","__url":"/fr/articles/js/gulp/icon-fonts/","__resourceUrl":"/fr/articles/js/gulp/icon-fonts/index.html","__dataUrl":"/fr/articles/js/gulp/icon-fonts/index.html.acf7b66640a9b5ab830dbc1249f18805.json"}